@model Roulette.Models.TableModel

@{
    ViewBag.Title = "Roulette";
}

@section Head
{
    
    <script type="text/javascript">

        function getStakes() {
            setTimeout(function () {
                $.ajax({
                    type: "POST",
                    url: '/Stake/GetStakes',
                    dataType: 'html',
                    success: function (stakes) {
                        drawStakes(stakes);
                        getStakes();
                    }
                });
            }, 200);
        }

        function drawStakes(stakes) {
            
            if (stakes != "") {
                if($("#centered-div").html() != stakes)
                        $("#centered-div").html(stakes);
            }
            else {
                $('.roulette-board div.chip').remove();
                $('#zero div.chip').remove();
            }
        }

        $(function () {
            getStakes();
        });

    </script>
}

<div id="user-board">
<div id="centered-div">
@Html.Partial("_Board",Model)
</div>
</div>
